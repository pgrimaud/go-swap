<nav class="bg-white dark:bg-black border-b border-gray-200 dark:border-zinc-800 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
            <!-- Logo -->
            <div class="flex items-center">
                <a href="{{ path('app_home') }}" class="flex items-center">
                    <img src="{{ asset('images/logo.png') }}" alt="Go Swap" class="h-10 w-auto">
                    <span class="ml-2 text-xl font-bold text-gray-900 dark:text-white hidden sm:block">Go Swap</span>
                </a>
            </div>

            <!-- Navigation Links (Desktop) -->
            <div class="hidden md:flex items-center space-x-2">
                <a href="{{ path('app_pokedex') }}" class="{{ app.request.attributes.get('_route') == 'app_pokedex' ? 'text-violet-600 dark:text-violet-400 bg-violet-50 dark:bg-violet-900/20' : 'text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-gray-100 dark:hover:bg-zinc-800' }} px-4 py-2 text-base font-semibold transition rounded-lg flex items-center gap-2">
                    <img src="{{ asset('images/icon/pokeball.png') }}" alt="Pokédex" class="h-5 w-5">
                    Pokédex
                </a>
                
                <!-- PvP Dropdown -->
                <div class="relative" 
                     data-controller="dropdown"
                     data-action="click@window->dropdown#closeOnClickOutside">
                    <button type="button"
                            data-action="click->dropdown#toggle"
                            class="text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-gray-100 dark:hover:bg-zinc-800 px-4 py-2 text-base font-semibold transition rounded-lg flex items-center gap-2 cursor-pointer">
                        <img src="{{ asset('images/icon/pvp.png') }}" alt="PvP" class="h-5 w-5">
                        PvP
                        <svg data-dropdown-target="caret" class="w-4 h-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>
                    <div data-dropdown-target="menu"
                         class="hidden absolute left-0 mt-1 w-48 bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-700 rounded-lg shadow-lg py-1 z-50">
                        <a href="#" class="flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-violet-50 dark:hover:bg-violet-900/20 hover:text-violet-600 dark:hover:text-violet-400 transition">
                            <img src="{{ asset('images/pvp/great.png') }}" alt="Great League" class="h-5 w-5">
                            Great League
                        </a>
                        <a href="#" class="flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-violet-50 dark:hover:bg-violet-900/20 hover:text-violet-600 dark:hover:text-violet-400 transition">
                            <img src="{{ asset('images/pvp/ultra.png') }}" alt="Ultra League" class="h-5 w-5">
                            Ultra League
                        </a>
                        <a href="#" class="flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-violet-50 dark:hover:bg-violet-900/20 hover:text-violet-600 dark:hover:text-violet-400 transition">
                            <img src="{{ asset('images/pvp/master.png') }}" alt="Master League" class="h-5 w-5">
                            Master League
                        </a>
                    </div>
                </div>

                <a href="{{ path('app_custom_lists') }}" class="{{ app.request.attributes.get('_route') == 'app_custom_lists' ? 'text-violet-600 dark:text-violet-400 bg-violet-50 dark:bg-violet-900/20' : 'text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-gray-100 dark:hover:bg-zinc-800' }} px-4 py-2 text-base font-semibold transition rounded-lg flex items-center gap-2">
                    <img src="{{ asset('images/icon/list.png') }}" alt="My Lists" class="h-5 w-5">
                    My Lists
                </a>
            </div>

            <!-- User Menu -->
            <div class="flex items-center">
                <!-- Desktop User Menu -->
                <div class="hidden md:flex items-center space-x-4">
                    {% if is_granted('ROLE_ADMIN') %}
                        <a href="/admin" class="text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-gray-100 dark:hover:bg-zinc-800 px-4 py-2 text-base font-semibold transition rounded-lg">
                            Admin
                        </a>
                    {% endif %}
                    <a href="{{ path('app_logout') }}"
                       class="inline-flex items-center px-4 py-2 border border-transparent text-base font-semibold rounded-lg text-white bg-violet-600 hover:bg-violet-700 dark:bg-violet-600 dark:hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-600 dark:focus:ring-offset-black transition cursor-pointer">
                        Logout
                    </a>
                </div>

                <!-- Mobile menu button -->
                <button type="button"
                        onclick="document.getElementById('mobile-menu').classList.toggle('hidden')"
                        class="md:hidden inline-flex items-center justify-center p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-600 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-violet-600 transition">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="hidden md:hidden border-t border-gray-200 dark:border-gray-700">
        <div class="px-2 pt-2 pb-3 space-y-1">
            <a href="{{ path('app_pokedex') }}" class="{{ app.request.attributes.get('_route') == 'app_pokedex' ? 'flex items-center gap-2 px-3 py-2 rounded-lg text-base font-medium text-violet-600 dark:text-violet-600 bg-violet-50 dark:bg-violet-900/30' : 'flex items-center gap-2 px-3 py-2 rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-violet-600 dark:hover:text-violet-600 transition' }}">
                <img src="{{ asset('images/icon/pokeball.png') }}" alt="Pokédex" class="h-5 w-5">
                Pokédex
            </a>
            
            <!-- PvP Mobile Dropdown -->
            <div data-controller="dropdown">
                <button type="button"
                        data-action="click->dropdown#toggle"
                        class="w-full flex items-center justify-between px-3 py-2 rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-violet-600 dark:hover:text-violet-600 transition cursor-pointer">
                    <span class="flex items-center gap-2">
                        <img src="{{ asset('images/icon/pvp.png') }}" alt="PvP" class="h-5 w-5">
                        PvP
                    </span>
                    <svg data-dropdown-target="caret" class="w-4 h-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </button>
                <div data-dropdown-target="menu" class="hidden pl-4 mt-1 space-y-1">
                    <a href="#" class="flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-violet-600 dark:hover:text-violet-600 transition">
                        <img src="{{ asset('images/pvp/great.png') }}" alt="Great League" class="h-5 w-5">
                        Great League
                    </a>
                    <a href="#" class="flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-violet-600 dark:hover:text-violet-600 transition">
                        <img src="{{ asset('images/pvp/ultra.png') }}" alt="Ultra League" class="h-5 w-5">
                        Ultra League
                    </a>
                    <a href="#" class="flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-violet-600 dark:hover:text-violet-600 transition">
                        <img src="{{ asset('images/pvp/master.png') }}" alt="Master League" class="h-5 w-5">
                        Master League
                    </a>
                </div>
            </div>

            <a href="{{ path('app_custom_lists') }}" class="{{ app.request.attributes.get('_route') == 'app_custom_lists' ? 'flex items-center gap-2 px-3 py-2 rounded-lg text-base font-medium text-violet-600 dark:text-violet-600 bg-violet-50 dark:bg-violet-900/30' : 'flex items-center gap-2 px-3 py-2 rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-violet-600 dark:hover:text-violet-600 transition' }}">
                <img src="{{ asset('images/icon/list.png') }}" alt="My Lists" class="h-5 w-5">
                My Lists
            </a>
        </div>
        <div class="pt-4 pb-3 border-t border-gray-200 dark:border-gray-700">
            <div class="px-2">
                {% if is_granted('ROLE_ADMIN') %}
                    <a href="/admin" class="block px-3 py-2 rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-violet-600 dark:hover:text-violet-600 transition">
                        Admin
                    </a>
                {% endif %}
                <a href="{{ path('app_logout') }}" class="block px-3 py-2 rounded-lg text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-red-600 dark:hover:text-red-400 transition">
                    Logout
                </a>
            </div>
        </div>
    </div>
</nav>
